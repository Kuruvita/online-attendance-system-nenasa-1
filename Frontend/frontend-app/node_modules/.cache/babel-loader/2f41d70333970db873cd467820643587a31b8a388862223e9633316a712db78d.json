{"ast":null,"code":"// Authentication utility functions\nimport { msalInstance } from \"../App\";\nexport const getAccessToken = async () => {\n  const accounts = msalInstance.getAllAccounts();\n  if (!accounts || accounts.length === 0) {\n    throw new Error(\"No account found\");\n  }\n  const request = {\n    scopes: [\"openid\", \"profile\", \"User.Read\"],\n    account: accounts[0]\n  };\n  try {\n    const response = await msalInstance.acquireTokenSilent(request);\n    return response.accessToken;\n  } catch (error) {\n    console.error(\"Silent token acquisition failed:\", error);\n    // Fallback to popup\n    const response = await msalInstance.acquireTokenPopup(request);\n    return response.accessToken;\n  }\n};","map":{"version":3,"names":["msalInstance","getAccessToken","accounts","getAllAccounts","length","Error","request","scopes","account","response","acquireTokenSilent","accessToken","error","console","acquireTokenPopup"],"sources":["C:/Final System/online-attendance-system-nenasa/Frontend/frontend-app/src/utils/auth.js"],"sourcesContent":["// Authentication utility functions\r\nimport { msalInstance } from \"../App\";\r\n\r\nexport const getAccessToken = async () => {\r\n  const accounts = msalInstance.getAllAccounts();\r\n\r\n  if (!accounts || accounts.length === 0) {\r\n    throw new Error(\"No account found\");\r\n  }\r\n\r\n  const request = {\r\n    scopes: [\"openid\", \"profile\", \"User.Read\"],\r\n    account: accounts[0],\r\n  };\r\n\r\n  try {\r\n    const response = await msalInstance.acquireTokenSilent(request);\r\n    return response.accessToken;\r\n  } catch (error) {\r\n    console.error(\"Silent token acquisition failed:\", error);\r\n    // Fallback to popup\r\n    const response = await msalInstance.acquireTokenPopup(request);\r\n    return response.accessToken;\r\n  }\r\n};\r\n"],"mappings":"AAAA;AACA,SAASA,YAAY,QAAQ,QAAQ;AAErC,OAAO,MAAMC,cAAc,GAAG,MAAAA,CAAA,KAAY;EACxC,MAAMC,QAAQ,GAAGF,YAAY,CAACG,cAAc,CAAC,CAAC;EAE9C,IAAI,CAACD,QAAQ,IAAIA,QAAQ,CAACE,MAAM,KAAK,CAAC,EAAE;IACtC,MAAM,IAAIC,KAAK,CAAC,kBAAkB,CAAC;EACrC;EAEA,MAAMC,OAAO,GAAG;IACdC,MAAM,EAAE,CAAC,QAAQ,EAAE,SAAS,EAAE,WAAW,CAAC;IAC1CC,OAAO,EAAEN,QAAQ,CAAC,CAAC;EACrB,CAAC;EAED,IAAI;IACF,MAAMO,QAAQ,GAAG,MAAMT,YAAY,CAACU,kBAAkB,CAACJ,OAAO,CAAC;IAC/D,OAAOG,QAAQ,CAACE,WAAW;EAC7B,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,kCAAkC,EAAEA,KAAK,CAAC;IACxD;IACA,MAAMH,QAAQ,GAAG,MAAMT,YAAY,CAACc,iBAAiB,CAACR,OAAO,CAAC;IAC9D,OAAOG,QAAQ,CAACE,WAAW;EAC7B;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}